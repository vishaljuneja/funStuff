(function(){var n=function(n,e){"$:nomunge";function t(n){return"string"==typeof n}function r(n){var e=v.call(arguments,1);return function(){return n.apply(this,e.concat(v.call(arguments)))}}function o(n){return n.replace(/^[^#]*#?(.*)$/,"$1")}function i(n){return n.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function a(r,o,i,a,u){var c,s,p,d,h;return a!==f?(p=i.match(r?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/),h=p[3]||"",2===u&&t(a)?s=a.replace(r?R:S,""):(d=l(p[2]),a=t(a)?l[r?q:x](a):a,s=2===u?a:1===u?n.extend({},a,d):n.extend({},d,a),s=w(s),r&&(s=s.replace(g,y))),c=p[1]+(r?"#":s||!p[1]?"?":"")+s+h):c=o(i!==f?i:e[N][C]),c}function u(n,e,r){return e===f||"boolean"==typeof e?(r=e,e=w[n?q:x]()):e=t(e)?e.replace(n?R:S,""):e,l(e,r)}function c(e,r,o,i){return t(o)||"object"==typeof o||(i=o,o=r,r=f),this.each(function(){var t=n(this),a=r||m()[(this.nodeName||"").toLowerCase()]||"",u=a&&t.attr(a)||"";t.attr(a,w[e](u,o,i))})}var f,s,l,p,d,h,m,g,v=Array.prototype.slice,y=decodeURIComponent,w=n.param,$=n.bbq=n.bbq||{},b=n.event.special,j="hashchange",x="querystring",q="fragment",A="elemUrlAttr",N="location",C="href",E="src",S=/^.*\?|#.*$/g,R=/^.*\#/,U={};w[x]=r(a,0,i),w[q]=s=r(a,1,o),s.noEscape=function(e){e=e||"";var t=n.map(e.split(""),encodeURIComponent);g=RegExp(t.join("|"),"g")},s.noEscape(",/"),n.deparam=l=function(e,t){var r={},o={"true":!0,"false":!1,"null":null};return n.each(e.replace(/\+/g," ").split("&"),function(e,i){var a,u=i.split("="),c=y(u[0]),s=r,l=0,p=c.split("]["),d=p.length-1;if(/\[/.test(p[0])&&/\]$/.test(p[d])?(p[d]=p[d].replace(/\]$/,""),p=p.shift().split("[").concat(p),d=p.length-1):d=0,2===u.length)if(a=y(u[1]),t&&(a=a&&!isNaN(a)?+a:"undefined"===a?f:o[a]!==f?o[a]:a),d)for(;d>=l;l++)c=""===p[l]?s.length:p[l],s=s[c]=d>l?s[c]||(p[l+1]&&isNaN(p[l+1])?{}:[]):a;else n.isArray(r[c])?r[c].push(a):r[c]=r[c]!==f?[r[c],a]:a;else c&&(r[c]=t?f:"")}),r},l[x]=r(u,0),l[q]=p=r(u,1),n[A]||(n[A]=function(e){return n.extend(U,e)})({a:C,base:C,iframe:E,img:E,input:E,form:"action",link:C,script:E}),m=n[A],n.fn[x]=r(c,x),n.fn[q]=r(c,q),$.pushState=d=function(n,r){t(n)&&/^#/.test(n)&&r===f&&(r=2);var o=n!==f,i=s(e[N][C],o?n:{},o?r:2);e[N][C]=i+(/#/.test(i)?"":"#")},$.getState=h=function(n,e){return n===f||"boolean"==typeof n?p(n):p(e)[n]},$.removeState=function(e){var t={};e!==f&&(t=h(),n.each(n.isArray(e)?e:arguments,function(n,e){delete t[e]})),d(t,2)},b[j]=n.extend(b[j],{add:function(e){function t(n){var e=n[q]=s();n.getState=function(n,t){return n===f||"boolean"==typeof n?l(e,n):l(e,t)[n]},r.apply(this,arguments)}var r;return n.isFunction(e)?(r=e,t):(r=e.handler,e.handler=t,f)}})};"function"==typeof define&&define.amd?define(["jquery"],function(e){n(e,window)}):n(window.$,window)})(),function(){var n=function(n,e,t){"$:nomunge";function r(n){return n=n||e[a][c],n.replace(/^[^#]*#?(.*)$/,"$1")}var o,i=n.event.special,a="location",u="hashchange",c="href",f=n.browser,s=document.documentMode,l=f.msie&&(s===t||8>s),p="on"+u in e&&!l;n[u+"Delay"]=100,i[u]=n.extend(i[u],{setup:function(){return p?!1:(n(o.start),t)},teardown:function(){return p?!1:(n(o.stop),t)}}),o=function(){function t(){f=s=function(n){return n},l&&(i=n('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow,s=function(){return r(i.document[a][c])},f=function(n,e){if(n!==e){var t=i.document;t.open().close(),t[a].hash="#"+n}},f(r()))}var o,i,f,s,p={};return p.start=function(){if(!o){var i=r();f||t(),function l(){var t=r(),p=s(i);t!==i?(f(i=t,p),n(e).trigger(u)):p!==i&&(e[a][c]=e[a][c].replace(/#.*/,"")+"#"+p),o=setTimeout(l,n[u+"Delay"])}()}},p.stop=function(){i||(o&&clearTimeout(o),o=0)},p}()};"function"==typeof define&&define.amd?define(["jquery"],function(){return n}):window.HashChangeEvent=n(window.jQuery)}();