define(["js/core/origami","js/core/config","jquery","underscore","backbone","js/lib/supports","js/lib/third-parties","js/lib/log","js/lib/multitracker"],function(e,r,t,o,n,a,s,i,c){var u=new e("#origami");return u.config=r,u.supports=a,u.log=i({level:r.log}),window.onerror=function(e,r,t){if(r=r||window.location.href,void 0!==t&&null!=t){e.target&&e.type&&(e=e.type),e.indexOf||(e="Non-string, non-event error: "+typeof e);var o={message:e,script:r,line:t,url:document.URL};u.multitracker.push(["page.error.javascript",o])}},requirejs.onError=function(e){u.multitracker.push(["page.error.requirejs",{url:location.href,message:e.message,type:e.requireType,modules:e.requireModules}]);var r=e.message.match(/context:\s*(.*)\s*\n/);if(r&&"_"==r[1]){var o="<div>oooops! something unexpected happened, please <a href='"+location.href+"'>refresh</a> your browser</div>",n=t("<div>").addClass("fullscreen");u.message.add(t(o).addClass("message")),n.appendTo("body").show()}},u.multitracker=c({logger:u.log}),u.multitracker.register("204",[]),u.multitracker.register("ga",window._gaq=[],"google"),t(document).ready(function(){/staging|production/.test(u.config.environment)&&(requirejs.config({context:"204js",paths:{_204:"https://eventing.coursera.org/204.min"}})(["_204"],function(e){e&&(u.multitracker.get("204").queue=e.batch(u.multitracker.get("204").queue))}),u.multitracker.get("ga").queue.push(["_setAccount","UA-28377374-1"],["_setDomainName","coursera.org"],["_setAllowLinker",!0],["_trackPageview"]),s.loadScript(("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",function(){u.multitracker.get("ga").queue=window._gaq})),u.router.on("all",function(){u.multitracker.push(["pageview",u.config.dir.home+n.history.getFragment()])})}),n.noConflict(),t.noConflict(),o.noConflict(),u});