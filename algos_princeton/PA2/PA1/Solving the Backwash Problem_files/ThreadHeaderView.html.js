(function(wndw){var jadify=function(jade){return function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){var interp;buf.push('<div class="course-forum-thread-title"><h2>'+escape(null==(interp=thread.get("title"))?"":interp)+'</h2></div><div class="course-forum-thread-header"><div class="course-forum-thread-controls">'),thread.get("stickied")&&buf.push('<span title="This thread was pinned." class="course-forum-thread-indicator course-forum-indicator-good"><i title="Pinned Post" class="icon-pushpin"></i> Pinned</span>'),thread.get("approved")&&buf.push('<span title="This thread was approved by staff." class="course-forum-thread-indicator course-forum-indicator-good"><i class="icon-star"></i> Approved</span>'),thread.get("_forum_can_be_resolved")&&0===thread.get("unresolved")&&buf.push('<span title="This thread was marked as resolved." class="course-forum-thread-indicator course-forum-indicator-good"><i class="icon-check"></i> Resolved</span>'),thread.get("locked")&&buf.push('<span title="This thread was locked by an admin." class="course-forum-thread-indicator"><i class="icon-lock"></i> Locked</span>'),thread.get("is_spam")&&buf.push('<span title="This thread was marked as spam by an admin." class="course-forum-thread-indicator course-forum-indicator-bad"><i class="icon-trash"></i> Spam</span>'),1==thread.get("deleted")&&buf.push('<span title="This thread was deleted by an admin." class="course-forum-thread-indicator course-forum-indicator-bad"><i class="icon-trash"></i> Deleted</span>');var popupId="course-forum-thread-controls-popup"+thread.get("id");(thread.get("_viewer_can_resolve")||thread.get("_viewer_can_delete")||thread.get("_viewer_can_edit_title")||user.canModerateForum())&&(buf.push("<a"),buf.push(attrs({title:"Thread controls",tabindex:"0",role:"button","aria-haspopup":"true","aria-expanded":"false","aria-owns":popupId,"data-popup":"#"+popupId,"data-popup-direction":"se","class":"course-forum-thread-controls-toggle"},{title:!0,tabindex:!0,role:!0,"aria-haspopup":!0,"aria-expanded":!0,"aria-owns":!0,"data-popup":!0,"data-popup-direction":!0})),buf.push('><i class="icon-cog"><span class="hidden">Thread controls</span></i></a><div'),buf.push(attrs({id:popupId,"class":"course-forum-thread-controls-popup hide"},{id:!0})),buf.push(">"),user.canModerateForum()&&(thread.get("locked")?buf.push('<a href="javascript:void(0)" data-property="locked" data-value="0" class="course-forum-thread-action-link">Un-lock</a>'):buf.push('<a href="javascript:void(0)" data-property="locked" data-value="1" class="course-forum-thread-action-link">Lock</a>'),thread.get("stickied")?buf.push('<a href="javascript:void(0)" data-property="stickied" data-value="0" class="course-forum-thread-action-link">Un-pin</a>'):buf.push('<a href="javascript:void(0)" data-property="stickied" data-value="1" class="course-forum-thread-action-link">Pin</a>'),thread.get("approved")?buf.push('<a href="javascript:void(0)" data-property="approved" data-value="0" class="course-forum-thread-action-link">Un-approve</a>'):buf.push('<a href="javascript:void(0)" data-property="approved" data-value="1" class="course-forum-thread-action-link">Approve</a>'),thread.get("is_spam")?buf.push('<a href="javascript:void(0)" data-property="is_spam" data-value="0" class="course-forum-thread-action-link">Not spam</a>'):buf.push('<a href="javascript:void(0)" data-property="is_spam" data-value="1" class="course-forum-thread-action-link">Spam</a>')),thread.get("_viewer_can_edit_title")&&buf.push('<a href="javascript:void(0)" class="course-forum-thread-edit-title-link">Edit title</a>'),thread.get("_viewer_can_delete")&&(thread.get("deleted")?buf.push('<a href="javascript:void(0)" data-property="deleted" data-value="0" class="course-forum-thread-action-link">Un-delete</a>'):buf.push('<a href="javascript:void(0)" data-property="deleted" data-value="1" class="course-forum-thread-action-link">Delete</a>')),thread.get("_forum_can_be_resolved")&&thread.get("_viewer_can_resolve")&&(0===thread.get("unresolved")?buf.push('<a href="javascript:void(0)" data-property="unresolved" data-value="1" class="course-forum-thread-action-link">Un-resolve</a>'):buf.push('<a href="javascript:void(0)" data-property="unresolved" data-value="0" class="course-forum-thread-action-link">Resolve</a>')),user.canModerateForum()&&buf.push('<a href="javascript:void(0)" class="course-forum-thread-admin-details-link">Show Admin Details</a>'),thread.get("triageEnabled")&&user.canModerateForum()&&(buf.push('<a href="javascript:void(0)" class="course-forum-thread-ping-coursera">'),thread.get("triageStatus")&&thread.get("triageStatus").last_pinged?buf.push("Re-notify Coursera"):buf.push("Notify Coursera"),buf.push("</a>")),buf.push("</div>")),buf.push('</div><div style="margin-right:10px; display:inline-block;">'),thread.get("_viewer_subscription")?buf.push('<i class="icon-envelope"></i> You are subscribed.  <a href="javascript:void(0);" class="course-forum-thread-unsubscribe-link">Unsubscribe</a>'):buf.push('<a href="javascript:void(0);" class="course-forum-thread-subscribe-link">Subscribe for email updates.</a>'),buf.push("</div>"),thread.get("triageEnabled")&&thread.get("triageStatus")&&thread.get("triageStatus").last_pinged&&(buf.push('<div style="margin-right:10px; display:inline-block">'),thread.get("triageStatus").status_resolved?buf.push('<i class="icon-check"></i> Issue resolved. (Please re-notify us if there are still problems).'):buf.push('<i class="icon-exclamation-sign"></i> Coursera notified '+escape(null==(interp=thread.get("triageStatus").last_pinged_pretty)?"":interp)+".\n Priority: "+escape(null==(interp=thread.get("triageStatus").priority_label)?"":interp)+".\n Status: "+escape(null==(interp=thread.get("triageStatus").status_label)?"":interp)+"."),buf.push("</div>")),buf.push("</div>")}return buf.join("")}};"function"==typeof define&&define.amd?define(["js/lib/jade"],function(e){return jadify(e)}):wndw.jade.templates.ThreadHeaderView=jadify(wndw.jade.helpers)})(window);