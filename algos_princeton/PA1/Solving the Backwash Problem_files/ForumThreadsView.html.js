(function(wndw){var jadify=function(jade){return function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){var interp,currentPage=forumThreads.get("current_page"),maxPages=forumThreads.get("max_pages");if(forumThreads.get("total_threads")>0){if(buf.push('<div class="course-forum-threads-listing"><table class="table"><caption style="height:42px;">'),threads.length>0&&showSortControls&&buf.push('<ul class="course-forum-threads-sort nav nav-pills pull-right"><li data-sort-name="topquestions"><a href="javascript:void(0)">Top threads</a></li><li data-sort-name="lastupdated"><a href="javascript:void(0)">Last updated</a></li><li data-sort-name="firstposted"><a href="javascript:void(0)">Last created</a></li></ul>'),forumThreads.get("tag_id")?buf.push("<h4>Threads tagged with: "+escape(null==(interp=forumThreads.get("tag_name"))?"":interp)+"</h4>"):"subscribed"==forumThreads.get("sort")?buf.push("<h4>Your Subscribed Threads</h4>"):(buf.push("<h4>All Threads"),currentPage>1&&buf.push("<small> (Page\n"+escape(null==(interp=currentPage)?"":interp)+"\nof\n"+escape(null==(interp=maxPages)?"":interp)+"\n)</small>"),buf.push("</h4>")),showNewThread&&(buf.push("<a"),buf.push(attrs({href:newThreadLink,"class":"btn btn-small course-forum-threads-new-button"},{href:!0})),buf.push(">Start New Thread</a>")),buf.push('</caption><thead class="hidden"><tr><th> <h5 class="hidden">Thread title and author</h5></th><th><h5 class="hidden">Thread Status</h5></th><th><h5 class="hidden">Number of points</h5></th><th><h5 class="hidden">Number of posts</h5></th><th><h5 class="hidden">Number of views</h5></th></tr></thead><tbody>'),threads.each(function(e,t){var a=1==e.get("is_spam")&&user.canModerateForum()?"course-forum-threads-listing-spam":"";buf.push("<tr"),buf.push(attrs({style:showMore&&t>=maxDisplayed?"display:none;":"","class":"course-forum-threads-listing-row "+a},{"class":!0,style:!0})),buf.push("><td>");var n=e.get("_viewer_read")?"":"course-forum-threads-listing-unread";buf.push("<div"),buf.push(attrs({style:"font-size:16px;","class":n},{style:!0,"class":!0})),buf.push(">"),1==e.get("approved")&&buf.push('<span title="Approved by staff" class="icon-thumbs-up"></span><span class="hidden">Approved</span>&nbsp;'),1==e.get("unresolved")&&buf.push('<span title="Unresolved" class="icon-question-sign"></span><span class="hidden">Unresolved</span>&nbsp;'),1==e.get("stickied")&&buf.push('<span title="Pinned by staff" class="icon-pushpin"></span><span class="hidden">Pinned</span>&nbsp;'),buf.push("<a"),buf.push(attrs({href:e.get("_link")},{href:!0})),buf.push("> <span>"+escape(null==(interp=e.get("title"))?"":interp)+"</span>"),e.get("_viewer_read")||buf.push('<span class="hidden"> (Un-read)</span>'),buf.push('</a></div><div style="opacity:.8">'),1==e.get("instructor_replied")&&buf.push('<span class="course-forum-profile-badge">Staff Replied</span><span> &middot; </span>'),buf.push("<span>Started by ");var i=e.get("_starter");-1==i.id?buf.push("<span>Anonymous</span>"):(buf.push("<a"),buf.push(attrs({href:i._user_profile_link},{href:!0})),buf.push(">"),i._user_profile?(i._user_profile.photo_24&&(buf.push("<img"),buf.push(attrs({src:i._user_profile.photo_24},{src:!0})),buf.push("/>")),buf.push(""+escape(null==(interp=i._user_profile.display_name)?"":interp)+" ")):buf.push(""+escape(null==(interp=i.full_name)?"":interp)+" "),buf.push("</a>")),-1!=i.id&&i.forum_title&&"Student"!=i.forum_title&&buf.push('<span class="course-forum-profile-badge">'+escape(null==(interp=i.forum_title)?"":interp)+"</span>"),buf.push("</span><span> &middot; </span><span>Last post by ");var i=e.get("_last_poster");-1==i.id?buf.push("<span>Anonymous</span>"):(buf.push("<a"),buf.push(attrs({href:i._user_profile_link},{href:!0})),buf.push(">"),i._user_profile?(i._user_profile.photo_24&&(buf.push("<img"),buf.push(attrs({src:i._user_profile.photo_24},{src:!0})),buf.push("/>")),buf.push(""+escape(null==(interp=i._user_profile.display_name)?"":interp)+" ")):buf.push(""+escape(null==(interp=i.full_name)?"":interp)+" "),buf.push("</a>")),-1!=i.id&&i.forum_title&&"Student"!=i.forum_title&&buf.push('<span class="course-forum-profile-badge">'+escape(null==(interp=i.forum_title)?"":interp)+"</span>"),buf.push("</span> (<time"),buf.push(attrs({datetime:e.get("last_updated_time")},{datetime:!0})),buf.push('></time>)</div><div></div></td><td class="course-forum-thread-triage-status">'),e.get("_triage_status")&&(e.get("_triage_status").status_resolved?buf.push("Issue Resolved"):buf.push(""+escape(null==(interp=e.get("_triage_status").status_label)?"":interp)+"<br/>("+escape(null==(interp=e.get("_triage_status").priority_label)?"":interp)+")")),buf.push("</td><td"),buf.push(attrs({"class":"course-forum-stat "+(e.get("votes")>0?"course-forum-stat-important":"")},{"class":!0})),buf.push("><span>"+escape(null==(interp=e.get("votes"))?"":interp)+"</span><br/> "+escape(null==(interp=1==e.get("votes")?"point":"points")?"":interp)+"</td><td"),buf.push(attrs({"class":"course-forum-stat "+(e.get("num_posts")>0?"course-forum-stat-important":"")},{"class":!0})),buf.push("><span>"+escape(null==(interp=e.get("num_posts"))?"":interp)+"</span><br/> "+escape(null==(interp=1==e.get("num_posts")?"post":"posts")?"":interp)+'</td><td class="course-forum-stat"><span>'+escape(null==(interp=e.get("num_views"))?"":interp)+"</span><br/> "+escape(null==(interp=1==e.get("num_views")?"view":"views")?"":interp)+"</td></tr>")}),buf.push("</tbody></table>"),showMore&&buf.push('<a class="course-forum-thread-showmore btn">Show More <span class="icon-double-angle-down"></span></a>'),maxPages>1){buf.push("<div"),buf.push(attrs({style:showMore?"display:none;":"","class":"pagination course-forum-thread-paginator"},{style:!0})),buf.push("><ul>"),currentPage>1&&(buf.push('<li class="prev"><a'),buf.push(attrs({href:"javascript:void(0);","data-page-num":currentPage-1},{href:!0,"data-page-num":!0})),buf.push(">&larr; Previous</a></li>"));for(var displayedDots=!1,i=1;currentPage>i;i++)i>2&&currentPage-2>i?displayedDots||(displayedDots=!0,buf.push('<li><a href="javascript:void(0);">...</a></li>')):(buf.push("<li><a"),buf.push(attrs({href:"javascript:void(0);","data-page-num":i},{href:!0,"data-page-num":!0})),buf.push(">"+escape(null==(interp=i)?"":interp)+"</a></li>"));buf.push('<li class="active"><a href="javascript:void(0);">'+escape(null==(interp=currentPage)?"":interp)+"</a></li>");for(var displayedDots=!1,i=currentPage+1;maxPages>=i;i++)i>currentPage+2&&maxPages-1>i?displayedDots||(displayedDots=!0,buf.push('<li><a href="javascript:void(0);">...</a></li>')):(buf.push("<li><a"),buf.push(attrs({href:"javascript:void(0);","data-page-num":i},{href:!0,"data-page-num":!0})),buf.push(">"+escape(null==(interp=i)?"":interp)+"</a></li>"));maxPages>currentPage&&(buf.push('<li class="prev"><a'),buf.push(attrs({href:"javascript:void(0);","data-page-num":currentPage+1},{href:!0,"data-page-num":!0})),buf.push(">&rarr; Next</a></li>")),buf.push("</ul></div>")}buf.push("</div>")}else 0==forumThreads.get("total_threads")?showEmptyMessage&&(showNewThread?(buf.push("<p>There's nothing here yet, you can be the first!</p><a"),buf.push(attrs({href:newThreadLink,"class":"btn course-forum-threads-new-button"},{href:!0})),buf.push(">Start New Thread</a><br/><br/>")):buf.push("<p>There's nothing here yet. Sorry! â˜¹</p>")):buf.push("<p>Loading...</p>")}return buf.join("")}};"function"==typeof define&&define.amd?define(["js/lib/jade"],function(e){return jadify(e)}):wndw.jade.templates.ForumThreadsView=jadify(wndw.jade.helpers)})(window);