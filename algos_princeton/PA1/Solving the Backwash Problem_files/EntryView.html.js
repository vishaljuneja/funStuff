(function(wndw){var jadify=function(jade){return function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){var interp;if(entry.get("deleted")&&!user.canModerateForum())buf.push('<small class="course-forum-delete-indicator"><span class="icon-trash"></span>A post was deleted</small>');else{buf.push("<div"),buf.push(attrs({"data-permalink":entry.getPermalinkHash(),"class":"course-forum-post-view-container "+(1==entry.get("deleted")?"course-forum-post-deleted":"")},{"class":!0,"data-permalink":!0})),buf.push('><div class="course-forum-post-header"><div class="course-forum-post-controls">'),1==entry.get("stickied")&&buf.push('<span title="Post was stickied by staff." class="course-forum-post-indicator course-forum-indicator-good"><i class="icon-pushpin"></i>Pinned</span>'),1==entry.get("approved")&&buf.push('<span title="Post was approved by staff." class="course-forum-post-indicator course-forum-indicator-good"><i class="icon-star"></i>Approved</span>'),1==entry.get("is_spam")&&buf.push('<span title="Post was marked as spam." class="course-forum-post-indicator course-forum-indicator-bad"><i class="icon-trash"></i>Spam</span>');var popupId="course-forum-post-controls-"+entry.get("id");(entry.get("_viewer_can_edit")||user.canAccessAdmin()||user.canModerateForum())&&(buf.push("<a"),buf.push(attrs({title:"Controls",tabindex:"0",role:"button","aria-haspopup":"true","aria-expanded":"false","aria-owns":popupId,"data-popup":"#"+popupId,"data-popup-direction":"se","class":"course-forum-post-controls-toggle"},{title:!0,tabindex:!0,role:!0,"aria-haspopup":!0,"aria-expanded":!0,"aria-owns":!0,"data-popup":!0,"data-popup-direction":!0})),buf.push('><i class="icon-cog"><span class="hidden">Controls</span></i></a><div'),buf.push(attrs({id:popupId,"class":"course-forum-post-controls-popup hide"},{id:!0})),buf.push(">"),user.canModerateForum()&&buf.push('<a href="javascript:void(0)" class="course-forum-post-admin-details-link">Show Admin Details</a>'),buf.push("<!-- If you have editing rights, you can edit or delete-->"),entry.get("_viewer_can_edit")&&(buf.push('<a href="javascript:void(0)" class="course-forum-post-edit-link">Edit</a>'),0==entry.get("deleted")?buf.push('<a href="javascript:void(0)" data-property="deleted" data-value="1" class="course-forum-post-action-link">Delete</a>'):buf.push('<a href="javascript:void(0)" data-property="deleted" data-value="0" class="course-forum-post-action-link">Un-delete</a>')),buf.push("<!-- Only forum moderators -->"),user.canModerateForum()&&"post"==entry.entryType&&(0==entry.get("stickied")?buf.push('<a href="javascript:void(0)" data-property="stickied" data-value="1" class="course-forum-post-action-link">Pin</a>'):buf.push('<a href="javascript:void(0)" data-property="stickied" data-value="0" class="course-forum-post-action-link">Un-pin</a>'),0==entry.get("approved")?buf.push('<a href="javascript:void(0)" data-property="approved" data-value="1" class="course-forum-post-action-link">Approve</a>'):buf.push('<a href="javascript:void(0)" data-property="approved" data-value="0" class="course-forum-post-action-link">Un-approve</a>')),user.canModerateForum()&&(0==entry.get("is_spam")?buf.push('<a href="javascript:void(0)" data-property="is_spam" data-value="1" class="course-forum-post-action-link">Spam</a>'):buf.push('<a href="javascript:void(0)" data-property="is_spam" data-value="0" class="course-forum-post-action-link">Not spam</a>')),buf.push("</div>")),buf.push('</div><h5 class="course-forum-post-byline"></h5></div><div class="course-forum-post-text">'+(null==(interp=entry.getMessageHtml())?"":interp)+"</div>"),user.canModerateForum()&&(buf.push('<div class="course-forum-post-admin-container"><span>'+escape(null==(interp=entry.get("user_id"))?"":interp)+"</span> &middot; &nbsp;<span>"+escape(null==(interp=entry.get("_user_full_name"))?"":interp)+"</span> &middot; &nbsp;"),entry.get("_user_email_address")&&buf.push("<span>"+escape(null==(interp=entry.get("_user_email_address"))?"":interp)+"</span> &middot; &nbsp;"),buf.push("<a"),buf.push(attrs({target:"_blank",href:entry.get("_user_search_link")},{target:!0,href:!0})),buf.push('><span class="icon-comments"></span> All Posts</a> &middot; &nbsp;'),user.canAccessAdmin()&&(buf.push("<a"),buf.push(attrs({target:"_blank",href:entry.get("_user_details_link")},{target:!0,href:!0})),buf.push('><span class="icon-tasks"></span> More Student Details</a>')),buf.push("<br/>"),entry.get("user_agent")&&(buf.push("<a"),buf.push(attrs({target:"_blank",href:"http://user-agent-string.info/?Fuas="+entry.get("user_agent")},{target:!0,href:!0})),buf.push(">"+escape(null==(interp=entry.get("user_agent"))?"":interp)+"</a>")),buf.push("</div>"));var voteClass="";entry.get("votes")>0&&(voteClass="course-forum-votes-positive"),0>entry.get("votes")&&(voteClass="course-forum-votes-negative");var votePopupId="course-forum-post-vote-hint-"+entry.get("id"),flagPopupId="course-forum-post-flag-hint-"+entry.get("id");buf.push("<div"),buf.push(attrs({tabindex:"0",role:"button","aria-haspopup":"true","aria-expanded":"false","aria-owns":votePopupId,"data-popup":"#"+votePopupId,"data-popup-direction":"sw","data-popup-bind-open":"mouseenter","class":"course-forum-post-vote-controls"},{tabindex:!0,role:!0,"aria-haspopup":!0,"aria-expanded":!0,"aria-owns":!0,"data-popup":!0,"data-popup-direction":!0,"data-popup-bind-open":!0})),buf.push("><div"),buf.push(attrs({tabindex:"0","aria-label":"Vote this post up","data-direction-value":"1",role:"button","class":"course-forum-post-vote-button course-forum-post-vote-up "+("1"==entry.get("_viewer_vote")?"course-forum-vote-active":"course-forum-vote-inactive")},{"class":!0,tabindex:!0,"aria-label":!0,"data-direction-value":!0,role:!0})),buf.push('><i class="icon-arrow-up"></i></div><span'),buf.push(attrs({"class":"course-forum-post-vote-count "+voteClass},{"class":!0})),buf.push(">"+escape(null==(interp=entry.get("votes"))?"":interp)+"</span><div"),buf.push(attrs({tabindex:"0","aria-label":"Vote this post down","data-direction-value":"-1",role:"button","class":"course-forum-post-vote-button course-forum-post-vote-down "+("-1"==entry.get("_viewer_vote")?"course-forum-vote-active":"course-forum-vote-inactive")},{"class":!0,tabindex:!0,"aria-label":!0,"data-direction-value":!0,role:!0})),buf.push('><i class="icon-arrow-down"></i></div></div>'),entry.get("_viewer_can_vote")&&(buf.push("<div"),buf.push(attrs({id:votePopupId,"class":"course-forum-post-vote-hint help-block hide"},{id:!0})),buf.push("> Please use votes to bring attention to thoughtful, helpful posts. <br>\n (Even if you personally disagree with the post - we like a diversity of opinions here.) Thanks! <br></div>")),buf.push("<div"),buf.push(attrs({tabindex:"0",role:"button","aria-haspopup":"true","aria-expanded":"false","aria-owns":flagPopupId,"data-popup":"#"+flagPopupId,"data-popup-direction":"sw","data-popup-bind-open":"mouseenter","class":"course-forum-post-controls-report"},{tabindex:!0,role:!0,"aria-haspopup":!0,"aria-expanded":!0,"aria-owns":!0,"data-popup":!0,"data-popup-direction":!0,"data-popup-bind-open":!0})),buf.push(">&middot;\nflag</div><div"),buf.push(attrs({id:flagPopupId,"class":"course-forum-post-vote-hint help-block hide"},{id:!0})),buf.push("> Please flag this if you think this "+escape(null==(interp=entry.entryType)?"":interp)+' is inappropriate or a violation of the honor code.</div><div style="clear: both; height: 3px;"></div></div>')}}return buf.join("")}};"function"==typeof define&&define.amd?define(["js/lib/jade"],function(e){return jadify(e)}):wndw.jade.templates.EntryView=jadify(wndw.jade.helpers)})(window);