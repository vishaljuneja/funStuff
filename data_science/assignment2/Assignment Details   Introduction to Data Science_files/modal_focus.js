var ModalFocus={};ModalFocus.selector="a, input, textarea, select, iframe",ModalFocus.modalElem=$(),ModalFocus.foregroundElems=$(),ModalFocus.backgroundElems=$(),ModalFocus.focusIndex=0,ModalFocus.enable=function(e){ModalFocus.disable(),ModalFocus.modalElem=$(e),ModalFocus.foregroundElems=ModalFocus.modalElem.find(ModalFocus.selector),0!==ModalFocus.foregroundElems.length&&(ModalFocus.backgroundElems=$(ModalFocus.selector).not(ModalFocus.foregroundElems),ModalFocus.foregroundElems.add(ModalFocus.backgroundElems).each(function(e,t){var i=$(t),n=i.attr("tabindex");n!==void 0?i.data("tabindex",null):i.data("tabindex",n)}),ModalFocus.foregroundElems.each(function(e,t){var i=$(t);i.attr("tabindex",e+1)}),ModalFocus.backgroundElems.attr("tabindex",-1),ModalFocus.foregroundElems.bind("focus.modalfocus",function(){ModalFocus.focusIndex=$(this).attr("tabindex")}),ModalFocus.backgroundElems.bind("focus.modalfocus",function(){ModalFocus.focusIndex>1?ModalFocus.foregroundElems.first().focus():ModalFocus.foregroundElems.last().focus()}),ModalFocus.foregroundElems.not(".close").not("[disabled=disabled], [readonly=readonly]").first().focus())},ModalFocus.disable=function(){ModalFocus.foregroundElems.unbind("focus.modalfocus"),ModalFocus.backgroundElems.unbind("focus.modalfocus"),ModalFocus.foregroundElems.add(ModalFocus.backgroundElems).each(function(e,t){var i=$(t),n=i.data("tabindex");null===n?i.removeAttr("tabindex"):i.attr("tabindex",n)}),ModalFocus.modalElem=$(),ModalFocus.foregroundElems=$(),ModalFocus.backgroundElems=$(),ModalFocus.focusIndex=0};